<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="添加一个job创建一个mavn项目  修改job配置如图：  找到需要克隆的job配置文件cd &#x2F;data&#x2F;jenkins_data&#x2F;jobs&#x2F;xiasha_AAA_cms  [root@jenkins xiasha_AAA_cms]# ll total 20 drwxr-x--- 13 root root 4096 Jul 24 19:40 builds -rw-r-----  1 roo">
<meta property="og:type" content="article">
<meta property="og:title" content="批量克隆jenkins的job">
<meta property="og:url" content="http://yoursite.com/2017/07/31/python/%E6%89%B9%E9%87%8F%E5%85%8B%E9%9A%86jenkins%E7%9A%84job/index.html">
<meta property="og:site_name" content="向山看海">
<meta property="og:description" content="添加一个job创建一个mavn项目  修改job配置如图：  找到需要克隆的job配置文件cd &#x2F;data&#x2F;jenkins_data&#x2F;jobs&#x2F;xiasha_AAA_cms  [root@jenkins xiasha_AAA_cms]# ll total 20 drwxr-x--- 13 root root 4096 Jul 24 19:40 builds -rw-r-----  1 roo">
<meta property="og:locale">
<meta property="og:image" content="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/create_job.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/1.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/2.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/3.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/4.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/5.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/6.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/jieguo.jpg">
<meta property="article:published_time" content="2017-07-31T08:08:22.000Z">
<meta property="article:modified_time" content="2023-12-05T02:19:43.395Z">
<meta property="article:author" content="qiantu">
<meta property="article:tag" content="jenkins">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/create_job.jpg">

<link rel="canonical" href="http://yoursite.com/2017/07/31/python/%E6%89%B9%E9%87%8F%E5%85%8B%E9%9A%86jenkins%E7%9A%84job/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>批量克隆jenkins的job | 向山看海</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">向山看海</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-zjump">

    <a href="/zjump/" rel="section"><i class="fa fa-zjump fa-fw"></i>zjump</a>

  </li>
        <li class="menu-item menu-item-envmanage">

    <a href="/envmanage/" rel="section"><i class="fa fa-envmanage fa-fw"></i>envmanage</a>

  </li>
        <li class="menu-item menu-item-nginxadmin">

    <a href="/nginxadmin/" rel="section"><i class="fa fa-nginxadmin fa-fw"></i>nginxadmin</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-archives fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-zjump fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-about fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-books">

    <a href="/books/" rel="section"><i class="fa fa-books fa-fw"></i>books</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/31/python/%E6%89%B9%E9%87%8F%E5%85%8B%E9%9A%86jenkins%E7%9A%84job/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="qiantu">
      <meta itemprop="description" content="You think you can, you can.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="向山看海">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          批量克隆jenkins的job
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-07-31 16:08:22" itemprop="dateCreated datePublished" datetime="2017-07-31T16:08:22+08:00">2017-07-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-12-05 10:19:43" itemprop="dateModified" datetime="2023-12-05T10:19:43+08:00">2023-12-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/jenkins/" itemprop="url" rel="index"><span itemprop="name">jenkins</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <!-- toc -->


<h2 id="添加一个job"><a href="#添加一个job" class="headerlink" title="添加一个job"></a>添加一个job</h2><h3 id="创建一个mavn项目"><a href="#创建一个mavn项目" class="headerlink" title="创建一个mavn项目"></a>创建一个mavn项目</h3><p><img src="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/create_job.jpg" alt="Screenshot"> </p>
<h3 id="修改job配置如图："><a href="#修改job配置如图：" class="headerlink" title="修改job配置如图："></a>修改job配置如图：</h3><p><img src="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/1.jpg" alt="Screenshot"><br><img src="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/2.jpg" alt="Screenshot"><br><img src="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/3.jpg" alt="Screenshot"><br><img src="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/4.jpg" alt="Screenshot"><br><img src="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/5.jpg" alt="Screenshot"><br><img src="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/6.jpg" alt="Screenshot"> </p>
<h2 id="找到需要克隆的job配置文件"><a href="#找到需要克隆的job配置文件" class="headerlink" title="找到需要克隆的job配置文件"></a>找到需要克隆的job配置文件</h2><pre><code>cd /data/jenkins_data/jobs/xiasha_AAA_cms

[root@jenkins xiasha_AAA_cms]# ll
total 20
drwxr-x--- 13 root root 4096 Jul 24 19:40 builds
-rw-r-----  1 root root 5876 Jul 24 19:38 config.xml
lrwxrwxrwx  1 root root   22 Jul 24 19:39 lastStable -&gt; builds/lastStableBuild
lrwxrwxrwx  1 root root   26 Jul 24 19:39 lastSuccessful -&gt; builds/lastSuccessfulBuild
drwxr-x---  7 root root 4096 Jul 21 11:53 modules
-rw-r-----  1 root root    3 Jul 24 19:39 nextBuildNumber
[root@jenkins xiasha_AAA_cms]# vim config.xml 
[root@jenkins xiasha_AAA_cms]# pwd
/data/jenkins_data/jobs/xiasha_AAA_cms
[root@jenkins xiasha_AAA_cms]# cat config.xml
&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
&lt;maven2-moduleset plugin=&quot;maven-plugin@2.17&quot;&gt;
  &lt;actions/&gt;
  &lt;description&gt;&lt;/description&gt;
  &lt;keepDependencies&gt;false&lt;/keepDependencies&gt;
  &lt;properties&gt;
    &lt;hudson.model.ParametersDefinitionProperty&gt;
      &lt;parameterDefinitions&gt;
        &lt;hudson.model.StringParameterDefinition&gt;
          &lt;name&gt;model&lt;/name&gt;
          &lt;description&gt;&lt;/description&gt;
          &lt;defaultValue&gt;cms&lt;/defaultValue&gt;
        &lt;/hudson.model.StringParameterDefinition&gt;
        &lt;net.uaznia.lukanus.hudson.plugins.gitparameter.GitParameterDefinition plugin=&quot;git-parameter@0.8.0&quot;&gt;
          &lt;name&gt;branch&lt;/name&gt;
          &lt;description&gt;&lt;/description&gt;
          &lt;uuid&gt;9d451b9b-9c6b-46ae-93be-636c522bac6f&lt;/uuid&gt;
          &lt;type&gt;PT_BRANCH_TAG&lt;/type&gt;
          &lt;branch&gt;&lt;/branch&gt;
          &lt;tagFilter&gt;*&lt;/tagFilter&gt;
          &lt;branchFilter&gt;.*&lt;/branchFilter&gt;
          &lt;sortMode&gt;NONE&lt;/sortMode&gt;
          &lt;defaultValue&gt;&lt;/defaultValue&gt;
          &lt;selectedValue&gt;NONE&lt;/selectedValue&gt;
          &lt;quickFilterEnabled&gt;false&lt;/quickFilterEnabled&gt;
        &lt;/net.uaznia.lukanus.hudson.plugins.gitparameter.GitParameterDefinition&gt;
      &lt;/parameterDefinitions&gt;
    &lt;/hudson.model.ParametersDefinitionProperty&gt;
  &lt;/properties&gt;
  &lt;scm class=&quot;hudson.plugins.git.GitSCM&quot; plugin=&quot;git@2.5.3&quot;&gt;
    &lt;configVersion&gt;2&lt;/configVersion&gt;
    &lt;userRemoteConfigs&gt;
      &lt;hudson.plugins.git.UserRemoteConfig&gt;
        &lt;url&gt;git@gitlab.lark.wiki:nbgold/$&#123;model&#125;.git&lt;/url&gt;
        &lt;credentialsId&gt;e646bdce-28d6-4a65-a169-f1a916517b24&lt;/credentialsId&gt;
      &lt;/hudson.plugins.git.UserRemoteConfig&gt;
    &lt;/userRemoteConfigs&gt;
    &lt;branches&gt;
      &lt;hudson.plugins.git.BranchSpec&gt;
        &lt;name&gt;$branch&lt;/name&gt;
      &lt;/hudson.plugins.git.BranchSpec&gt;
    &lt;/branches&gt;
    &lt;doGenerateSubmoduleConfigurations&gt;false&lt;/doGenerateSubmoduleConfigurations&gt;
    &lt;submoduleCfg class=&quot;list&quot;/&gt;
    &lt;extensions/&gt;
  &lt;/scm&gt;
  &lt;canRoam&gt;true&lt;/canRoam&gt;
  &lt;disabled&gt;false&lt;/disabled&gt;
  &lt;blockBuildWhenDownstreamBuilding&gt;false&lt;/blockBuildWhenDownstreamBuilding&gt;
  &lt;blockBuildWhenUpstreamBuilding&gt;false&lt;/blockBuildWhenUpstreamBuilding&gt;
  &lt;jdk&gt;(System)&lt;/jdk&gt;
  &lt;triggers/&gt;
  &lt;concurrentBuild&gt;false&lt;/concurrentBuild&gt;
  &lt;rootModule&gt;
    &lt;groupId&gt;com.zzjr&lt;/groupId&gt;
    &lt;artifactId&gt;cms&lt;/artifactId&gt;
  &lt;/rootModule&gt;
  &lt;goals&gt;clean install -Dmaven.test.skip=true&lt;/goals&gt;
  &lt;aggregatorStyleBuild&gt;true&lt;/aggregatorStyleBuild&gt;
  &lt;incrementalBuild&gt;false&lt;/incrementalBuild&gt;
  &lt;ignoreUpstremChanges&gt;false&lt;/ignoreUpstremChanges&gt;
  &lt;ignoreUnsuccessfulUpstreams&gt;false&lt;/ignoreUnsuccessfulUpstreams&gt;
  &lt;archivingDisabled&gt;false&lt;/archivingDisabled&gt;
  &lt;siteArchivingDisabled&gt;false&lt;/siteArchivingDisabled&gt;
  &lt;fingerprintingDisabled&gt;false&lt;/fingerprintingDisabled&gt;
  &lt;resolveDependencies&gt;false&lt;/resolveDependencies&gt;
  &lt;processPlugins&gt;false&lt;/processPlugins&gt;
  &lt;mavenValidationLevel&gt;-1&lt;/mavenValidationLevel&gt;
  &lt;runHeadless&gt;false&lt;/runHeadless&gt;
  &lt;disableTriggerDownstreamProjects&gt;false&lt;/disableTriggerDownstreamProjects&gt;
  &lt;blockTriggerWhenBuilding&gt;true&lt;/blockTriggerWhenBuilding&gt;
  &lt;settings class=&quot;jenkins.mvn.DefaultSettingsProvider&quot;/&gt;
  &lt;globalSettings class=&quot;jenkins.mvn.DefaultGlobalSettingsProvider&quot;/&gt;
  &lt;reporters/&gt;
  &lt;publishers/&gt;
  &lt;buildWrappers/&gt;
  &lt;prebuilders/&gt;
  &lt;postbuilders&gt;
    &lt;jenkins.plugins.publish__over__ssh.BapSshBuilderPlugin plugin=&quot;publish-over-ssh@1.14&quot;&gt;
      &lt;delegate&gt;
        &lt;consolePrefix&gt;SSH: &lt;/consolePrefix&gt;
        &lt;delegate&gt;
          &lt;publishers&gt;
            &lt;jenkins.plugins.publish__over__ssh.BapSshPublisher&gt;
              &lt;configName&gt;ansible&lt;/configName&gt;
              &lt;verbose&gt;false&lt;/verbose&gt;
              &lt;transfers&gt;
                &lt;jenkins.plugins.publish__over__ssh.BapSshTransfer&gt;
                  &lt;remoteDirectory&gt;&lt;/remoteDirectory&gt;
                  &lt;sourceFiles&gt;$&#123;model&#125;-webapp/target/*.war&lt;/sourceFiles&gt;
                  &lt;excludes&gt;&lt;/excludes&gt;
                  &lt;removePrefix&gt;&lt;/removePrefix&gt;
                  &lt;remoteDirectorySDF&gt;false&lt;/remoteDirectorySDF&gt;
                  &lt;flatten&gt;true&lt;/flatten&gt;
                  &lt;cleanRemote&gt;false&lt;/cleanRemote&gt;
                  &lt;noDefaultExcludes&gt;false&lt;/noDefaultExcludes&gt;
                  &lt;makeEmptyDirs&gt;false&lt;/makeEmptyDirs&gt;
                  &lt;patternSeparator&gt;[, ]+&lt;/patternSeparator&gt;
                  &lt;execCommand&gt;ansible $&#123;model&#125;_xsy_01 -m shell -a &amp;quot;mkdir -p /data/webapps/&amp;quot; --sudo 
ansible $&#123;model&#125;_xsy_01 -m shell -a &amp;quot;echo &amp;apos;zkserver=xxl01.niubangold.com:2181,xxl02.niubangold.com:2181,xxl03.niubangold.com:2181&amp;apos;&amp;gt;/data/webapps/xxl-conf.properties&amp;quot; --sudo 
ansible $&#123;model&#125;_xsy_01 -m shell -a &amp;quot;service tomcat stop&amp;quot; --sudo
ansible $&#123;model&#125;_xsy_01 -m shell -a &amp;quot;rm -rf /usr/local/tomcat/webapps/*&amp;quot; --sudo

ansible $&#123;model&#125;_xsy_01 -m copy -a &amp;quot;src=/usr/local/war/$&#123;model&#125;.war dest=/usr/local/tomcat/webapps/ROOT.war&amp;quot; --sudo

ansible $&#123;model&#125;_xsy_01 -m shell -a &amp;quot;service tomcat start&amp;quot; --sudo&lt;/execCommand&gt;
                  &lt;execTimeout&gt;120000&lt;/execTimeout&gt;
                  &lt;usePty&gt;false&lt;/usePty&gt;
                &lt;/jenkins.plugins.publish__over__ssh.BapSshTransfer&gt;
              &lt;/transfers&gt;
              &lt;useWorkspaceInPromotion&gt;false&lt;/useWorkspaceInPromotion&gt;
              &lt;usePromotionTimestamp&gt;false&lt;/usePromotionTimestamp&gt;
            &lt;/jenkins.plugins.publish__over__ssh.BapSshPublisher&gt;
          &lt;/publishers&gt;
          &lt;continueOnError&gt;false&lt;/continueOnError&gt;
          &lt;failOnError&gt;false&lt;/failOnError&gt;
          &lt;alwaysPublishFromMaster&gt;false&lt;/alwaysPublishFromMaster&gt;
          &lt;hostConfigurationAccess class=&quot;jenkins.plugins.publish_over_ssh.BapSshPublisherPlugin&quot; reference=&quot;../..&quot;/&gt;
        &lt;/delegate&gt;
      &lt;/delegate&gt;
    &lt;/jenkins.plugins.publish__over__ssh.BapSshBuilderPlugin&gt;
  &lt;/postbuilders&gt;
  &lt;runPostStepsIfResult&gt;
    &lt;name&gt;FAILURE&lt;/name&gt;
    &lt;ordinal&gt;2&lt;/ordinal&gt;
    &lt;color&gt;RED&lt;/color&gt;
    &lt;completeBuild&gt;true&lt;/completeBuild&gt;
  &lt;/runPostStepsIfResult&gt;
&lt;/maven2-moduleset&gt;
</code></pre>
<h2 id="新建脚本"><a href="#新建脚本" class="headerlink" title="新建脚本"></a>新建脚本</h2><pre><code>#!/usr/bin/env python
# -*- coding:utf-8 -*- 
#Author: qiantu
#qq 261767353

import jenkins
giturl=&quot;git@gitlab.lark.wiki:nbgold/&quot;
template_xml=&quot;jenkins_job.xml&quot;
view_name = &quot;xiasha_BBB_&quot;
server = jenkins.Jenkins(&#39;http://192.168.2.169:8080/jenkins/&#39;, username=&#39;admin&#39;, password=&#39;zzjr#2015&#39;)

import xml.etree.cElementTree as ET
job_list=[&quot;cms&quot;,&quot;pay&quot;,&quot;member&quot;,&quot;weapon&quot;,&quot;trade&quot;,&quot;wealth&quot;,&quot;statistics&quot;,&quot;bops&quot;,&quot;napp&quot;,&quot;site&quot;,&quot;crm&quot;,&quot;channel&quot;,&quot;tiger&quot;,&quot;rams&quot;,&quot;activity&quot;,&quot;api&quot;,&quot;eagle&quot;,&quot;squirrel&quot;,&quot;wap&quot;,&quot;dragon&quot;,&quot;tengu&quot;]
tree = ET.ElementTree(file=template_xml)

def create_job_file(model):
    for ele in tree.iterfind(&quot;properties/hudson.model.ParametersDefinitionProperty/parameterDefinitions/hudson.model.StringParameterDefinition/defaultValue&quot;):
        ele.text=model
        ele.set(&quot;updated&quot;,&quot;up&quot;)
    for ele in tree.iterfind(&quot;scm/userRemoteConfigs/hudson.plugins.git.UserRemoteConfig/url&quot;):
        ele.text=giturl+model+&quot;.git&quot;
        ele.set(&quot;updated&quot;,&quot;up&quot;)
    file_name=&quot;jenkins_job_&quot;+model+&quot;.xml&quot;
    tree.write(file_name)
    return open(file_name).read()

for i in job_list:
    EMPTY_JOB_CONFIG=create_job_file(i)
    # print EMPTY_JOB_CONFIG

    new_job = server.create_job(view_name+i, EMPTY_JOB_CONFIG)
    # del_job=server.delete_job(view_name+i)
    
</code></pre>
<h2 id="运行结果："><a href="#运行结果：" class="headerlink" title="运行结果："></a>运行结果：</h2><p><img src="https://raw.githubusercontent.com/xskh2007/xskh2007.github.io/master/images/python/jieguo.jpg" alt="Screenshot"> </p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/jenkins/" rel="tag"># jenkins</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2017/07/14/anything/Jenkins%E6%8F%92%E4%BB%B6%E8%8E%B7%E5%8F%96git%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B9%E6%B3%95/" rel="prev" title="Jenkins插件获取git分支的方法">
      <i class="fa fa-chevron-left"></i> Jenkins插件获取git分支的方法
    </a></div>
      <div class="post-nav-item">
    <a href="/2017/08/14/k8s/%E5%9F%BA%E4%BA%8Ekubernetes%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2DashBoard%E4%BA%8C(%E4%BA%B2%E6%B5%8B)/" rel="next" title="基于kubernetes集群部署DashBoard二(亲测)">
      基于kubernetes集群部署DashBoard二(亲测) <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AAjob"><span class="nav-number">1.</span> <span class="nav-text">添加一个job</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAmavn%E9%A1%B9%E7%9B%AE"><span class="nav-number">1.1.</span> <span class="nav-text">创建一个mavn项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9job%E9%85%8D%E7%BD%AE%E5%A6%82%E5%9B%BE%EF%BC%9A"><span class="nav-number">1.2.</span> <span class="nav-text">修改job配置如图：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%BE%E5%88%B0%E9%9C%80%E8%A6%81%E5%85%8B%E9%9A%86%E7%9A%84job%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">2.</span> <span class="nav-text">找到需要克隆的job配置文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%BB%BA%E8%84%9A%E6%9C%AC"><span class="nav-number">3.</span> <span class="nav-text">新建脚本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="nav-number">4.</span> <span class="nav-text">运行结果：</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">qiantu</p>
  <div class="site-description" itemprop="description">You think you can, you can.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">qiantu</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
